-----------------------------------------------------
	これは R E T R O F - 16  のアセンブラです。
-----------------------------------------------------

概要
  これは、16bit CPU用の簡易的なアセンブラです。

  １つのソースファイルから、バイナリーを直接生成します。
  リストファイルも出力します。
  
  リンカーやライブラリアンには対応していません。


retrof-16とは？
  duo6750さんが作成中の（２１世紀に実在する）
  TTLのみで作るコンピュータです。

  下記サイトに詳細があります。



         http://retrof.jpn.org/



-----------------------------------------------------
お約束
-まだ完成品ではありません。
-コマンドライン上から実行します。
-実在するRETROF-16と仕様が異なる場合があります。
--随時実物に合わせていく予定です。



-----------------------------------------------------
試し方
-WindowsXPなどを用意します。
-再コンパイルする場合は、MinGW gccを導入してください。
D:> make で再コンパイルできます。

-実行は、コマンドラインから
D:> make test
-これにより、 infile.c をinfile.lst とinfile.bin に
 変換します。

-infile.bin は、r16simディレクトリにtestdata.bin
 という名前でコピーして、sim上で実行してください。


-----------------------------------------------------
ＴｏＤｏ（問題点）
- Accレジスタを明示的に扱えない。
- '*'付のレジスタ名を文法的に受け付けない

-- なので、 *付の命令を使用したい場合はしかたなく
   アセンブラで書くことになります。
-- 行頭に # を付けると、そのままアセンブラに渡します。






-----------------------------------------------------
おまけ
	cina16サブディレクトリにＣ言語風のプリプロを入れて
	あります。
	make testで試すことが出来ます。



-----------------------------------------------------
ビルド方法:

	Windows上でのビルド＝　MinGW-gcc （www.mingw.org）と make を使用します。

	Linux 上でのビルド ＝　普通のgcc と make を使用します。


-----------------------------------------------------
参考URL:

	RETROF-16のISA

	http://retrof.jpn.org/ISA/asm.shtml


-----------------------------------------------------
ソフトウェア配布ライセンス

The MIT License
 Copyright (c) 2012  AVRetc

以下に定める条件に従い、本ソフトウェアおよび関連文書のファイル（以下「ソフトウェア」）の複製を取得するすべての人に対し、ソフトウェアを無制限に扱うことを無償で許可します。これには、ソフトウェアの複製を使用、複写、変更、結合、掲載、頒布、サブライセンス、および/または販売する権利、およびソフトウェアを提供する相手に同じことを許可する権利も無制限に含まれます。 

上記の著作権表示および本許諾表示を、ソフトウェアのすべての複製または重要な部分に記載するものとします。 

ソフトウェアは「現状のまま」で、明示であるか暗黙であるかを問わず、何らの保証もなく提供されます。ここでいう保証とは、商品性、特定の目的への適合性、および権利非侵害についての保証も含みますが、それに限定されるものではありません。 作者または著作権者は、契約行為、不法行為、またはそれ以外であろうと、ソフトウェアに起因または関連し、あるいはソフトウェアの使用またはその他の扱いによって生じる一切の請求、損害、その他の義務について何らの責任も負わないものとします。 


R16のISAセットの著作権等の権利はduo6750さんに帰属します。

	RETROF-16のISA

	http://retrof.jpn.org/ISA/asm.shtml

-----------------------------------------------------
